name: GitLab
shortDescription: 管理 GitLab 项目、仓库、Issues、Merge Requests 和 CI/CD 流水线
description: '一个 Model Context Protocol (MCP) 服务器，提供全面的 GitLab 集成能力。使 LLM 能够与 GitLab 项目交互、管理仓库、处理 Issues 和 Merge Requests，并精确执行自动化 GitLab 操作。


  ## 功能特性

  - **项目管理**：列出、搜索、创建和管理 GitLab 项目

  - **仓库操作**：浏览文件、读取内容、创建/更新文件以及管理分支

  - **Issue 管理**：创建、更新、列出和管理具有完整元数据的 GitLab Issues

  - **Merge Request 工作流**：创建、评审、合并和管理 Merge Requests

  - **文件操作**：读取、创建、更新和管理仓库文件和目录

  - **分支管理**：创建、列出和管理仓库分支

  - **提交历史**：访问提交信息和仓库历史

  - **用户管理**：获取用户详情和项目成员信息

  - **高级功能**：Fork 仓库、管理标签、处理讨论


  ## 连接所需条件


  **必需凭证：**

  - **GitLab Personal Access Token**：具有适当范围的 GitLab personal access token


  **可选：**

  - **GitLab API URL**：您的 GitLab 实例 URL（可选，用于自托管 GitLab 实例）

  - **GitLab Read-Only Mode**：默认为 false

  - **Use GitLab Wiki**：是否使用 GitLab wiki API

  - **Use Milestone**：是否使用 GitLab milestone API

  - **Use Pipeline**：是否使用 GitLab pipeline API

  '
metadata:
  categories: Version Control & DevOps
icon: https://about.gitlab.com/images/press/logo/png/gitlab-icon-rgb.png
repoURL: https://github.com/zereight/gitlab-mcp
env:
- key: GITLAB_PERSONAL_ACCESS_TOKEN
  name: GitLab Personal Access Token
  required: true
  sensitive: true
  description: 具有 api、read_repository 和 write_repository 范围的 GitLab personal access token。
- key: GITLAB_API_URL
  name: GitLab API URL
  required: false
  sensitive: false
  description: 您的 GitLab 实例 URL（可选，用于自托管 GitLab 实例）
- key: GITLAB_READ_ONLY_MODE
  name: GitLab Read-Only Mode
  required: false
  sensitive: false
  description: 设置为 "true" 以启用只读模式（默认为 "false"）。
- key: USE_GITLAB_WIKI
  name: Enable Wiki Features
  required: false
  sensitive: false
  description: 设置为 "true" 以启用 GitLab wiki 功能（默认为 "false"）。
- key: USE_MILESTONE
  name: Enable Milestone Features
  required: false
  sensitive: false
  description: 设置为 "true" 以启用里程碑管理（默认为 "false"）。
- key: USE_PIPELINE
  name: Enable Pipeline Features
  required: false
  sensitive: false
  description: 设置为 "true" 以启用 CI/CD pipeline 功能（默认为 "false"）。
runtime: containerized
containerizedConfig:
  image: ghcr.io/obot-platform/mcp-images/gitlab:2.0.11
  port: 8099
  path: /
  args:
  - mcp-gitlab
toolPreview:
- name: search_repositories
  description: 搜索 GitLab 项目
  params:
    search: 搜索查询字符串（必需）
    page: 分页页码（可选）
    per_page: 每页结果数量（可选）
- name: create_repository
  description: 创建新的 GitLab 项目
  params:
    name: 仓库名称（必需）
    description: 项目描述（可选）
    initialize_with_readme: 使用 README 文件初始化（可选）
    visibility: 项目可见性 - private、internal 或 public（可选）
- name: get_project
  description: 获取特定项目的详情
  params:
    project_id: 项目 ID 或 URL 编码路径（可选）
- name: list_projects
  description: 列出当前用户可访问的项目
  params:
    page: 分页页码（可选）
    per_page: 每页结果数量（可选）
    search: 项目搜索词（可选）
    visibility: 按项目可见性筛选（可选）
    with_issues_enabled: 筛选启用了 Issues 功能的项目（可选）
- name: get_file_contents
  description: 从 GitLab 项目获取文件或目录的内容
  params:
    file_path: 文件或目录路径（必需）
    project_id: 项目 ID 或 URL 编码路径（可选）
    ref: 要获取内容的分支、标签或提交（可选）
- name: create_or_update_file
  description: 在 GitLab 项目中创建或更新单个文件
  params:
    branch: 要创建/更新文件的分支（必需）
    commit_message: 提交消息（必需）
    content: 文件内容（必需）
    file_path: 创建/更新文件的路径（必需）
    project_id: 项目 ID 或 URL 编码路径（可选）
    previous_path: 要移动/重命名的文件路径（可选）
- name: push_files
  description: 在单个提交中将多个文件推送到 GitLab 项目
  params:
    branch: 要推送到的分支（必需）
    commit_message: 提交消息（必需）
    files: 包含 file_path 和 content 的文件数组（必需）
    project_id: 项目 ID 或 URL 编码路径（可选）
- name: get_repository_tree
  description: 获取 GitLab 项目的仓库树（列出文件和目录）
  params:
    project_id: 项目 ID 或 URL 编码路径（可选）
    path: 仓库内的路径（可选）
    ref: 分支、标签或提交引用（可选）
    recursive: 获取递归树结构（可选）
- name: create_branch
  description: 在 GitLab 项目中创建新分支
  params:
    branch: 新分支的名称（必需）
    project_id: 项目 ID 或 URL 编码路径（可选）
    ref: 新分支的源分支或提交（可选）
- name: create_issue
  description: 在 GitLab 项目中创建新 Issue
  params:
    title: Issue 标题（必需）
    project_id: 项目 ID 或 URL 编码路径（可选）
    description: Issue 描述（可选）
    assignee_ids: 要分配的用户 ID 数组（可选）
    labels: 标签名称数组（可选）
- name: list_issues
  description: 列出 Issues（默认仅当前用户创建的；使用 scope='all' 获取所有可访问的 Issues）
  params:
    project_id: 项目 ID 或 URL 编码路径（可选）
    state: Issue 状态 - opened、closed、all（可选）
    labels: 按标签名称筛选的数组（可选）
    assignee_username: 被分配者用户名数组（可选）
    scope: 返回特定范围的 Issues（可选）
- name: update_issue
  description: 更新 GitLab 项目中的 Issue
  params:
    issue_type: Issue 类型 - issue、incident、test_case 或 task（必需）
    project_id: 项目 ID 或 URL 编码路径（可选）
    issue_iid: Issue 的内部 ID（可选）
    title: 更新后的 Issue 标题（可选）
    description: 更新后的 Issue 描述（可选）
    state_event: 更新 Issue 状态 - close/reopen（可选）
- name: create_merge_request
  description: 在 GitLab 项目中创建新 Merge Request
  params:
    source_branch: 包含更改的分支（必需）
    target_branch: 要合并到的分支（必需）
    title: Merge Request 标题（必需）
    project_id: 项目 ID 或 URL 编码路径（可选）
    description: Merge Request 描述（可选）
    draft: 创建为草稿 Merge Request（可选）
    assignee_ids: 要分配的用户 ID 数组（可选）
- name: list_merge_requests
  description: 使用筛选选项列出 GitLab 项目中的 Merge Requests
  params:
    project_id: 项目 ID 或 URL 编码路径（可选）
    state: Merge Request 状态 - opened、closed、merged、all（可选）
    source_branch: 按源分支筛选（可选）
    target_branch: 按目标分支筛选（可选）
    page: 分页页码（可选）
    per_page: 每页结果数量（可选）
- name: get_merge_request
  description: 获取 Merge Request 的详情（必须提供 mergeRequestIid 或 branchName）
  params:
    project_id: 项目 ID 或 URL 编码路径（可选）
    merge_request_iid: Merge Request 的内部 ID（可选）
    source_branch: 源分支名称（可选）
- name: merge_merge_request
  description: 合并 GitLab 项目中的 Merge Request
  params:
    project_id: 项目 ID 或 URL 编码路径（可选）
    merge_request_iid: Merge Request 的内部 ID（可选）
    merge_commit_message: 自定义合并提交消息（可选）
    should_remove_source_branch: 合并后删除源分支（可选）
    squash: 合并时将提交压缩为单个提交（可选）
- name: update_merge_request
  description: 更新 Merge Request（必须提供 mergeRequestIid 或 branchName）
  params:
    project_id: 项目 ID 或 URL 编码路径（可选）
    merge_request_iid: Merge Request 的内部 ID（可选）
    title: 更新后的 Merge Request 标题（可选）
    description: 更新后的 Merge Request 描述（可选）
    state_event: 新状态 - 关闭/重新打开 MR（可选）
    assignee_ids: 要分配的用户 ID 数组（可选）
- name: create_merge_request_thread
  description: 在 Merge Request 上创建新线程
  params:
    body: 线程内容（必需）
    merge_request_iid: Merge Request 的内部 ID（可选）
    project_id: 项目 ID 或 URL 编码路径（可选）
    position: 创建 diff 注释时的位置（可选）
- name: fork_repository
  description: 将 GitLab 项目 Fork 到您的账户或指定命名空间
  params:
    project_id: 项目 ID 或 URL 编码路径（可选）
    namespace: 要 Fork 到的命名空间（可选）
- name: get_users
  description: 按用户名获取 GitLab 用户详情
  params:
    usernames: 要搜索的用户名数组（必需）
