name: AWS EKS
shortDescription: 管理 Amazon EKS 集群、Kubernetes 资源和容器化应用程序
description: '一个用于 Amazon EKS 的 Model Context Protocol (MCP) 服务器，为 AI 代码助手提供资源管理工具和实时集群状态可见性。通过从初始设置到生产优化和故障排除的定制指导，简化应用程序开发。


  ## 功能特性

  - 使 AI 代码助手用户能够创建新的 EKS 集群，包括专用 VPC、网络和 EKS Auto Mode 节点池等先决条件，通过将请求转换为适当的 AWS CloudFormation 操作

  - 提供通过应用现有 Kubernetes YAML 文件或基于用户提供的参数生成新的部署和服务清单来部署容器化应用程序的能力

  - 支持 EKS 集群中单个 Kubernetes 资源（如 Pod、Service 和 Deployment）的完整生命周期管理，支持创建、读取、更新、修补和删除操作

  - 提供按命名空间、标签和字段过滤列出 Kubernetes 资源的能力，简化用户和 LLM 收集有关 Kubernetes 应用程序和 EKS 基础设施状态信息的过程

  - 促进操作任务，例如从特定 Pod 和容器检索日志或获取与特定资源相关的 Kubernetes 事件，支持直接用户和 AI 驱动工作流的故障排除和监控

  - 使用户能够对 EKS 集群问题进行故障排除


  ## 连接所需条件


  **必需的 AWS 凭证:**

  - **AWS Access Key ID**: 您的 AWS 凭证访问密钥

  - **AWS Secret Access Key**: 您的 AWS 凭证访问密钥密文


  **可选配置:**

  - **AWS Region**: 要使用的 AWS 区域 (默认: `us-east-1`)

  - **AWS Session Token**: 仅在使用临时凭证（如 SSO 或 STS AssumeRole）时需要


  **所需的 IAM 权限:**

  - **读取操作**: EKS describe、CloudFormation describe、CloudWatch metrics、IAM get policies

  - **写入操作**: 对 IAM、VPC、CloudFormation 和 EKS 的完全访问权限，用于集群创建和管理


  **Kubernetes 访问:** 您的 IAM 主体必须创建 EKS 集群或配置 EKS Access Entry。

  '
metadata:
  categories: Cloud & Infrastructure
icon: https://avatars.githubusercontent.com/u/3299148?s=48&v=4
repoURL: https://github.com/awslabs/mcp/tree/main/src/eks-mcp-server
env:
- key: AWS_ACCESS_KEY_ID
  name: AWS Access Key ID
  required: true
  sensitive: false
  description: 您的 AWS Access Key ID
- key: AWS_SECRET_ACCESS_KEY
  name: AWS Secret Access Key
  required: true
  sensitive: true
  description: AWS Secret Access Key
- key: AWS_SESSION_TOKEN
  name: AWS Session Token
  required: false
  sensitive: true
  description: AWS Session Token，仅在使用临时凭证时需要，例如通过 aws sso login 或其他临时访问方法获得的临时 AWS 凭证（例如 STS AssumeRole）
- key: AWS_REGION
  name: AWS Region
  required: true
  sensitive: false
  description: AWS 区域
runtime: containerized
containerizedConfig:
  image: ghcr.io/obot-platform/mcp-images/aws-eks:0.1.15
  port: 8099
  path: /
  args:
  - awslabs.eks-mcp-server
  - --allow-write
  - --allow-sensitive-data-access
toolPreview:
- name: manage_eks_stacks
  description: 管理 EKS CloudFormation 堆栈，执行生成模板、部署、描述和删除 EKS 集群及其底层基础设施的操作。
  params:
    operation: 要执行的操作（generate、deploy、describe 或 delete）
    cluster_name: EKS 集群的名称（用于所有操作）
    template_file: CloudFormation 模板的绝对路径（用于 generate 和 deploy 操作）
- name: list_k8s_resources
  description: 在 EKS 集群中列出特定类型的 Kubernetes 资源，可选择按命名空间、标签和字段过滤。
  params:
    cluster_name: EKS 集群的名称
    kind: Kubernetes 资源的类型（例如 'Pod'、'Service'）
    api_version: Kubernetes 资源的 API 版本（例如 'v1'、'apps/v1'）
    namespace: Kubernetes 资源的命名空间（可选）
    label_selector: 用于过滤资源的标签选择器（可选）
    field_selector: 用于过滤资源的字段选择器（可选）
- name: manage_k8s_resource
  description: 管理单个 Kubernetes 资源，支持任何资源类型的完整 CRUD 操作（创建、读取、更新、修补、删除）。
  params:
    operation: 要执行的操作（create、replace、patch、delete、read）
    cluster_name: EKS 集群的名称
    kind: Kubernetes 资源的类型（例如 'Pod'、'Service'）
    api_version: Kubernetes 资源的 API 版本（例如 'v1'、'apps/v1'）
    name: Kubernetes 资源的名称
    namespace: Kubernetes 资源的命名空间（可选）
    body: 资源定义（用于 create/replace/patch 操作）
- name: apply_yaml
  description: 将本地文件中的 Kubernetes YAML 清单应用到 EKS 集群，支持多文档文件和资源更新。
  params:
    yaml_path: 要应用的 YAML 文件的绝对路径
    cluster_name: EKS 集群的名称
    namespace: 资源使用的默认命名空间
    force: 如果资源已存在是否更新（可选）
- name: list_api_versions
  description: 列出 Kubernetes 集群中所有可用的 API 版本，以确定资源管理的正确 apiVersion。
  params:
    cluster_name: EKS 集群的名称
- name: generate_app_manifest
  description: 为应用程序部署生成 Kubernetes 清单，创建 Deployment 和 LoadBalancer Service 配置。
  params:
    app_name: 应用程序的名称（用于部署和服务名称）
    image_uri: 带有标签的完整 ECR 镜像 URI
    output_dir: 保存清单文件的目录
    port: 应用程序监听的容器端口（可选）
    replicas: 要部署的副本数量（可选）
    cpu: 每个容器的 CPU 请求（可选）
    memory: 每个容器的内存请求（可选）
    namespace: 要部署到的 Kubernetes 命名空间（可选）
    load_balancer_scheme: AWS 负载均衡器方案（internal 或 internet-facing）（可选）
- name: get_pod_logs
  description: 从 Kubernetes 集群中的 Pod 检索日志，可选择按容器、时间范围和大小过滤，用于调试和监控。
  params:
    cluster_name: EKS 集群的名称
    pod_name: Pod 的名称
    namespace: Pod 的命名空间
    container_name: 容器名称（可选，如果 Pod 包含多个容器）
    since_seconds: 仅返回比此秒数更新的日志（可选）
    tail_lines: 从日志末尾返回的行数（可选）
    limit_bytes: 要返回的最大字节数（可选）
- name: get_k8s_events
  description: 检索与特定资源相关的 Kubernetes 事件，用于对 Pod 故障、部署问题和资源修改进行故障排除。
  params:
    cluster_name: EKS 集群的名称
    kind: 相关对象的类型
    name: 相关对象的名称
    namespace: 相关对象的命名空间（非命名空间资源可选）
- name: get_cloudwatch_logs
  description: 从 EKS 集群中 Kubernetes 资源的 CloudWatch 检索日志，支持按资源类型、时间范围和内容过滤。
  params:
    cluster_name: EKS 集群的名称
    log_type: 日志类型（application、host、performance、control-plane 或 custom）
    resource_type: 资源类型（pod、node、container、cluster）
    resource_name: 要在日志消息中搜索的资源名称（当 resource_type 为 "cluster" 时可选）
    minutes: 要回溯的分钟数（可选）
    start_time: ISO 格式的开始时间（可选）
    end_time: ISO 格式的结束时间（可选）
    limit: 要返回的最大日志条目数（可选）
    filter_pattern: 额外的 CloudWatch Logs 过滤模式（可选）
    fields: 要在查询结果中包含的自定义字段（可选）
- name: get_cloudwatch_metrics
  description: 检索 EKS 集群中 Kubernetes 资源的 CloudWatch 指标，以监控性能、资源利用率和系统健康状况。
  params:
    cluster_name: EKS 集群的名称
    metric_name: 指标名称（例如 cpu_usage_total、memory_rss）
    namespace: CloudWatch 命名空间
    dimensions: 用于 CloudWatch 指标查询的维度
    minutes: 要回溯的分钟数（可选）
    start_time: ISO 格式的开始时间（可选）
    end_time: ISO 格式的结束时间（可选）
    limit: 要返回的最大数据点数（可选）
    stat: 用于指标的统计信息（可选）
    period: 指标数据点的时间段（以秒为单位）（可选）
- name: get_eks_metrics_guidance
  description: 获取有关 EKS 集群中不同资源类型的可用 CloudWatch 指标的信息，包括指标名称、维度和描述。
  params:
    resource_type: 要获取指标的资源类型（cluster、node、pod、namespace、service）
- name: get_policies_for_role
  description: 检索附加到 IAM 角色的所有策略，包括 assume role 策略、托管策略和内联策略，用于权限分析。
  params:
    role_name: 要获取策略的 IAM 角色名称
- name: add_inline_policy
  description: 创建并将具有指定权限的新内联策略附加到 IAM 角色，通常用于授予 EKS 集群访问 AWS 服务的权限。
  params:
    policy_name: 要创建的新内联策略的名称
    role_name: 要添加策略的角色名称
    permissions: 要在策略中包含的权限（JSON 对象或对象数组）
- name: search_eks_troubleshoot_guide
  description: 在 EKS 故障排除指南知识库中搜索故障排除信息和 EKS 问题的分步解决方案。
  params:
    query: 与 EKS 故障排除相关的具体问题或问题描述（少于 300 个字符）

