name: MongoDB Database
shortDescription: 管理 MongoDB 数据库、集合、文档和聚合管道
description: |
  一个用于与 MongoDB 数据库交互的模型上下文协议（MCP）服务器。提供全面的数据库操作、集合管理和数据操作工具，适用于任何 MongoDB 实例（本地、云或自托管）。

  ## 功能特性
  - **数据库操作**：连接、列出数据库和获取数据库统计信息
  - **集合管理**：创建、删除、重命名集合和管理模式
  - **数据操作**：使用灵活的过滤查找、插入、更新、删除文档
  - **聚合支持**：运行复杂的聚合管道进行数据分析
  - **索引管理**：创建和管理索引以优化集合
  - **存储分析**：获取集合大小和数据库统计信息
  - **查询优化**：解释查询执行计划以进行性能调优

  ## 连接所需条件

  **必需：**
  - **MongoDB 连接字符串**：有效的 MongoDB 实例连接字符串

  **兼容性：**
  - 适用于任何 MongoDB 实例（本地、云或自托管）
  # - 可选的只读模式可用于更安全的操作
metadata:
  categories: Databases,Data & Analytics
icon: https://avatars.githubusercontent.com/u/45120?s=48&v=4
repoURL: https://github.com/mongodb-js/mongodb-mcp-server
env:
  - key: MDB_MCP_CONNECTION_STRING
    name: MongoDB 连接字符串
    required: true
    sensitive: true
    description: MongoDB 数据库的连接字符串
  # - key: MDB_MCP_READ_ONLY ## TODO: need dynamic args support, see issue https://github.com/obot-platform/obot/issues/3619 feature request 1
  #   name: MongoDB Read Only
  #   required: false
  #   sensitive: false
  #   description: Whether to run the MongoDB MCP server in read-only mode, default is false.
toolPreview:
  - name: connect
    description: 连接到 MongoDB 实例
    params:
      connectionString: MongoDB 连接字符串
  - name: list-collections
    description: 列出给定数据库的所有集合
    params:
      database: 数据库名称
  - name: list-databases
    description: 列出 MongoDB 连接的所有数据库
  - name: collection-indexes
    description: 描述集合的索引
    params:
      collection: 集合名称
      database: 数据库名称
  - name: create-index
    description: 为集合创建索引
    params:
      collection: 集合名称
      database: 数据库名称
      keys: 索引键规范对象
      name: 可选的索引名称
  - name: collection-schema
    description: 描述集合的模式
    params:
      collection: 集合名称
      database: 数据库名称
  - name: find
    description: 对 MongoDB 集合运行查找查询
    params:
      collection: 集合名称
      database: 数据库名称
      filter: 可选的查询过滤器对象
      limit: 可选的要返回的最大文档数
      projection: 可选的投影对象
      sort: 可选的排序规范对象
  - name: insert-many
    description: 将文档数组插入 MongoDB 集合
    params:
      collection: 集合名称
      database: 数据库名称
      documents: 要插入的文档数组
  - name: delete-many
    description: 从 MongoDB 集合中删除所有匹配过滤器的文档
    params:
      collection: 集合名称
      database: 数据库名称
      filter: 可选的过滤器对象
  - name: collection-storage-size
    description: 获取集合的大小
    params:
      collection: 集合名称
      database: 数据库名称
  - name: count
    description: 使用 db.collection.count() 和可选的查询过滤器参数获取 MongoDB 集合中的文档数
    params:
      collection: 集合名称
      database: 数据库名称
      query: 可选的过滤器/查询对象
  - name: db-stats
    description: 返回反映单个数据库使用状态的统计信息
    params:
      database: 数据库名称
  - name: aggregate
    description: 对 MongoDB 集合运行聚合
    params:
      collection: 集合名称
      database: 数据库名称
      pipeline: 聚合管道阶段数组
  - name: update-many
    description: 更新集合中所有匹配指定过滤器的文档
    params:
      collection: 集合名称
      database: 数据库名称
      update: 更新规范对象
      filter: 可选的过滤器对象
      upsert: 可选的布尔值，如果未找到匹配则插入
  - name: rename-collection
    description: 在 MongoDB 数据库中重命名集合
    params:
      collection: 集合名称
      database: 数据库名称
      newName: 新集合名称
      dropTarget: 可选的布尔值，如果目标集合存在则删除
  - name: drop-database
    description: 删除指定的数据库，删除关联的数据文件
    params:
      database: 数据库名称
  - name: drop-collection
    description: 从数据库中删除集合或视图。该方法还会删除与被删除集合关联的任何索引。
    params:
      collection: 集合名称
      database: 数据库名称
  - name: explain
    description: 返回描述查询优化器为评估方法选择的获胜计划执行的统计信息
    params:
      collection: 集合名称
      database: 数据库名称
      method: 指定要解释的方法和参数的数组
  - name: create-collection
    description: 在数据库中创建新集合。如果数据库不存在，将自动创建。
    params:
      collection: 集合名称
      database: 数据库名称
  - name: mongodb-logs
    description: 返回最近的 mongod 日志事件
    params:
      limit: 可选的要返回的最大日志条目数
      type: 可选的日志类型过滤器

runtime: containerized
containerizedConfig:
  image: ghcr.io/obot-platform/mcp-images/mongodb-database:1.3.0
  port: 8099
  path: /
  args:
    - mongodb-mcp-server
