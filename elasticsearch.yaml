name: Elasticsearch
shortDescription: 使用向量搜索和全文搜索来搜索、查询和管理 Elasticsearch 索引
description: |
  > [!CAUTION]
  > **警告：此 MCP 服务器为实验性版本。**

  一个 Model Context Protocol (MCP) 服务器，可直接从任何 MCP 客户端连接到您的 Elasticsearch 数据。Elasticsearch 是一个分布式搜索和分析引擎，是可扩展的数据存储和向量数据库，针对生产规模工作负载的速度和相关性进行了优化。

  ## 功能特性
  - **索引管理**：列出所有可用的 Elasticsearch 索引并获取字段映射
  - **搜索功能**：使用 Query DSL 和 ES|QL 查询执行 Elasticsearch 搜索
  - **向量搜索**：为 AI 应用和 RAG 实现启用向量搜索
  - **分片信息**：获取索引的详细分片信息
  - **全文搜索**：在近实时的情况下搜索海量数据集
  - **分析**：支持日志、指标、APM 和安全日志

  ## 连接所需信息

  **必需：**
  - **ES URL**：您的 Elasticsearch 实例 URL

  **认证（选择一种方式）：**
  - **选项 1 - API Key（推荐）**：`ES API Key`
  - **选项 2 - 用户名/密码**：`ES Username` 和 `ES Password`

  **前提条件：**
  - Elasticsearch 实例（官方支持 8.x 和 9.x 版本）
  - Elasticsearch 认证凭据

  **注意**：如果同时提供了两种认证方式，API Key 优先。

  ## 已知问题

  GPT-4.1 通常在调用 `search` 工具时无法正确格式化其 API 请求。
  Claude Sonnet 4 表现更好。

metadata:
  categories: Databases
icon: https://avatars.githubusercontent.com/u/6764390?v=4
repoURL: https://github.com/elastic/mcp-server-elasticsearch
env:
  - key: ES_URL
    name: ES URL
    required: true
    sensitive: false
    description: 您的 Elasticsearch 实例 URL
  - key: ES_API_KEY
    name: ES API Key
    required: false
    sensitive: true
    description: 用于认证的 Elasticsearch API Key
  - key: ES_USERNAME
    name: ES Username
    required: false
    sensitive: true
    description: 用于基本认证的 Elasticsearch 用户名
  - key: ES_PASSWORD
    name: ES Password
    required: false
    sensitive: true
    description: 用于基本认证的 Elasticsearch 密码

runtime: containerized
containerizedConfig:
  image: ghcr.io/obot-platform/mcp-images/elasticsearch:main
  port: 8080
  path: "/mcp"
  args:
    - http

toolPreview:
  - name: list_indices
    description: 列出所有可用的 Elasticsearch 索引
    params:
      index_pattern: 要列出的 Elasticsearch 索引的索引模式
  - name: get_shards
    description: 获取所有或特定索引的分片信息
    params:
      index: 要获取分片信息的可选索引名称
  - name: get_mappings
    description: 获取特定 Elasticsearch 索引的字段映射
    params:
      index: 要获取映射的 Elasticsearch 索引名称
  - name: search
    description: 使用提供的 Query DSL 执行 Elasticsearch 搜索
    params:
      fields: 需要返回的字段名称（可选）
      index: 要搜索的 Elasticsearch 索引名称
      query_body: 完整的 Elasticsearch Query DSL 对象，可包含 query、size、from、sort 等
  - name: esql
    description: 执行 Elasticsearch ES|QL 查询
    params:
      query: 完整的 Elasticsearch ES|QL 查询
