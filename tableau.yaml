name: Tableau
shortDescription: 查询 Tableau 数据源、访问 Pulse 指标并探索工作簿
description: |
  一个 Model Context Protocol (MCP) 服务器，通过多个 API 提供对 Tableau Cloud 和 Tableau Server 的全面访问。连接到已发布的数据源、使用 VizQL 查询数据、探索 Pulse 指标，并访问具有完整元数据支持的工作簿和视图。

  ## 功能特性
  - **VizQL Data Service (VDS) API**：访问 Tableau 已发布的数据源，具有高级查询功能
  - **Tableau Metadata API**：收集数据源的元数据，包括具有丰富描述的列
  - **Pulse API 集成**：访问 Pulse 指标、定义、订阅，并生成 Insight Bundles
  - **跨平台支持**：兼容 Tableau Cloud 或 Tableau Server 上的任何已发布数据源

  ## 连接所需

  **必需：**
  - **Tableau Server URL**：Tableau Server 实例的 URL
  - **Personal Access Token Name**：Personal Access Token 的名称
  - **Personal Access Token Value**：Personal Access Token 的值

  **可选：**
  - **Tableau Site Name**：要使用的 Tableau 站点名称。如果未提供，将使用默认站点。

metadata:
  categories: Data Analytics, Business Intelligence, Visualization
icon: https://avatars.githubusercontent.com/u/828667?s=48&v=4
repoURL: https://github.com/tableau/tableau-mcp

toolPreview:
  - name: list-datasources
    description: 使用 Tableau REST API 从指定的 Tableau 站点检索已发布数据源的列表。支持通过 field:operator:value 表达式进行可选过滤，以实现精确灵活的数据源发现。
    params:
      filter: "通过 field:operator:value 表达式进行可选过滤（例如，name:eq:Views）- 默认值：None"
      limit: "要返回的最大结果数 - 默认值：None"
      pageSize: "每页项目数 - 默认值：None"
  - name: list-fields
    description: 通过 Tableau 的 Metadata API 获取指定数据源的丰富字段元数据（名称、描述、继承描述、dataType、dataCategory、role 等）。
    params:
      datasourceLuid: "要获取字段元数据的数据源 LUID"
  - name: query-datasource
    description: 对 Tableau 数据源执行 VizQL 查询，以从已发布数据回答业务问题。此工具允许您检索经过聚合和过滤的数据，并进行适当的排序和分组。
    params:
      datasourceLuid: "要查询的数据源 LUID"
      query: "包含 fields 数组和可选 filters 数组的查询对象"
  - name: read-metadata
    description: 返回指定数据源的基本高级元数据，包括 fieldName、fieldCaption、dataType、defaultAggregation 和 logicalTableId。
    params:
      datasourceLuid: "要读取元数据的数据源 LUID"
  - name: list-workbooks
    description: 检索 Tableau 站点上的工作簿列表，包括其元数据，如名称、描述以及工作簿中包含的视图信息。
    params:
      filter: "通过 field:operator:value 表达式进行可选过滤（例如，name:eq:Superstore）- 默认值：None"
      limit: "要返回的最大结果数 - 默认值：None"
      pageSize: "每页项目数 - 默认值：None"
  - name: list-views
    description: 检索 Tableau 站点上的视图列表，包括其元数据，如名称、所有者以及视图所在的工作簿。
    params:
      filter: "通过 field:operator:value 表达式进行可选过滤（例如，name:eq:Overview）- 默认值：None"
      limit: "要返回的最大结果数 - 默认值：None"
      pageSize: "每页项目数 - 默认值：None"
  - name: get-workbook
    description: 检索有关指定工作簿的信息，包括工作簿中包含的视图信息。
    params:
      workbookId: "要检索的工作簿 ID"
  - name: get-view-data
    description: 以逗号分隔值（CSV）格式检索 Tableau 工作簿中指定视图的数据。
    params:
      viewId: "要获取数据的视图 ID"
  - name: get-view-image
    description: 检索 Tableau 工作簿中指定视图的图像。可以提供以像素为单位的宽度和高度。
    params:
      viewId: "要获取图像的视图 ID"
      height: "高度（像素）- 默认值：800"
      width: "宽度（像素）- 默认值：800"
  - name: list-all-pulse-metric-definitions
    description: 使用 Tableau REST API 检索所有已发布的 Pulse 指标定义列表。
    params:
      view: "要返回的指标范围（DEFINITION_VIEW_BASIC、DEFINITION_VIEW_FULL、DEFINITION_VIEW_DEFAULT）- 默认值：DEFINITION_VIEW_BASIC"
  - name: list-pulse-metrics-from-metric-definition-id
    description: 使用 Tableau REST API 从 Pulse 指标定义检索已发布的 Pulse 指标列表。
    params:
      pulseMetricDefinitionID: "要列出指标的 Pulse 指标定义 ID（36 字符 UUID）"
  - name: list-pulse-metrics-from-metric-ids
    description: 使用 Tableau REST API 从指标 ID 列表检索已发布的 Pulse 指标列表。
    params:
      metricIds: "要列出指标的 Pulse 指标 ID 数组"
  - name: list-pulse-metric-subscriptions
    description: 使用 Tableau REST API 检索当前用户的已发布 Pulse 指标订阅列表。
    params:
      random_string: "无参数工具的虚拟参数 - 默认值：None"
  - name: generate-pulse-metric-value-insight-bundle
    description: 使用 Tableau REST API 为 Pulse 指标的当前聚合值生成洞察包。您需要 Pulse 指标和 Pulse 指标定义的完整信息才能使用此工具。
    params:
      bundleRequest: "用于生成包的请求对象，包含 bundle_request 及其 version、options 和 input"
      bundleType: "要生成的包类型（ban、springboard、basic、detail）- 默认值：ban"

env:
  - name: Tableau Server URL
    key: SERVER
    description: 您的 Tableau Cloud 或 Server URL（例如，https://your-site.online.tableau.com）
    required: true
    sensitive: false
  - name: Tableau Site Name
    key: SITE_NAME
    description: 要使用的 Tableau 站点名称。如果未提供，将使用默认站点。
    required: false
    sensitive: false
  - name: Personal Access Token Name
    key: PAT_NAME
    description: 您的 Personal Access Token 名称
    required: true
    sensitive: false
  - name: Personal Access Token Value
    key: PAT_VALUE
    description: 您的 Personal Access Token 密钥值
    required: true
    sensitive: true

runtime: containerized
containerizedConfig:
  image: ghcr.io/obot-platform/mcp-images/tableau:main
  port: 8098
  path: "/tableau-mcp"
