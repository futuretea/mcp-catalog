name: Google Cloud Run
shortDescription: 在 Google Cloud Run 上部署和管理应用程序，支持监控和日志记录
description: |
  一个 Model Context Protocol (MCP) 服务器，使 AI 代理能够将应用程序部署到 Google Cloud Run。提供全面的部署功能，包括基于文件的部署、容器镜像部署以及具有完整监控和日志记录支持的服务管理。

  ## 功能特性
  - **基于文件的部署**：通过直接向 Cloud Run 提供文件内容来部署应用程序
  - **容器镜像部署**：将预构建的容器镜像部署到 Cloud Run 服务
  - **服务管理**：跨项目和区域列出、获取详细信息和监控 Cloud Run 服务
  - **项目管理**：列出可用的 GCP 项目并创建与计费集成的新项目
  - **日志与监控**：访问服务日志和错误消息以进行故障排除

  ## 连接所需条件

  **必需：**
  - **Google Cloud Application Credentials**：您的 Google Cloud 服务账户凭证。

  **可选：**
  - **Google Cloud Region**：Cloud Run 部署的默认区域（例如，europe-west1, us-central1）默认：europe-west1

  ## 重要说明：
  - **API 启用**：必须在您计划部署服务的每个 GCP 项目中启用 Cloud Run Admin API
  - **部署时间**：Cloud Run 部署通常需要 1-3 分钟，具体取决于容器大小和复杂性
  - **首次部署**：初始部署可能需要更长时间，因为它们需要构建和推送容器镜像

metadata:
  categories: Cloud Infrastructure, Deployment, Container Orchestration
icon: https://avatars.githubusercontent.com/u/2810941?s=48&v=4
repoURL: https://github.com/obot-platform/cloud-run-mcp

toolPreview:
  - name: deploy-file-contents
    description: 通过直接提供文件内容将文件部署到 Cloud Run。接受包含文件名和内容的文件对象数组。如果文件仅存在于当前聊天上下文中，请使用此工具。
    params:
      project: "Google Cloud 项目 ID。留空以在新项目中部署应用。如果提供，请确保用户确认他们要部署到的项目 ID"
      service: "要部署到的 Cloud Run 服务名称"
      region: "部署服务的区域 - 默认：us-central1"
      files: "包含文件名和内容的文件对象数组"
  - name: deploy-container-image
    description: 将容器镜像部署到 Cloud Run。如果用户提供了容器镜像 URL，请使用此工具。
    params:
      project: "Google Cloud 项目 ID。不要自行选择，确保用户提供或确认项目 ID"
      service: "要部署到的 Cloud Run 服务名称"
      region: "部署服务的区域 - 默认：us-central1"
      imageUrl: "要部署的容器镜像 URL（例如 \"gcr.io/cloudrun/hello\"）"
  - name: list-services
    description: 列出给定项目和区域中的 Cloud Run 服务。
    params:
      project: "Google Cloud 项目 ID"
      region: "服务所在的区域 - 默认：us-central1"
  - name: get-service
    description: 获取特定 Cloud Run 服务的详细信息。
    params:
      project: "包含服务的 Google Cloud 项目 ID"
      service: "Cloud Run 服务名称"
      region: "服务所在的区域 - 默认：us-central1"
  - name: get-service-log
    description: 获取特定 Cloud Run 服务的日志和错误消息。
    params:
      project: "包含服务的 Google Cloud 项目 ID"
      service: "Cloud Run 服务名称"
      region: "服务所在的区域 - 默认：us-central1"
  - name: list-projects
    description: 列出可用的 GCP 项目
    params:
      random_string: "无参数工具的虚拟参数"
  - name: create-project
    description: 创建一个新的 GCP 项目并尝试将其附加到第一个可用的计费账户。可以可选地指定项目 ID；否则将自动生成。
    params:
      projectId: "可选。新 GCP 项目的所需 ID。如果未提供，将自动生成 ID"

env:
  - name: Google Application Credentials
    key: GOOGLE_APPLICATION_CREDENTIALS
    description: 您的 Google Cloud 服务账户凭证。（从服务账户 JSON 文件复制的内容）
    required: true
    sensitive: true
    file: true
  - name: Google Cloud Region
    key: GOOGLE_CLOUD_REGION
    description: Cloud Run 部署的默认区域（例如，europe-west1, us-central1）默认 -- europe-west1
    required: false
    sensitive: false

runtime: containerized
containerizedConfig:
  image: ghcr.io/obot-platform/mcp-images/googlecloudrun:main
  port: 3000
  path: "/mcp"
