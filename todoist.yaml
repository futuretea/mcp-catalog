name: Todoist
shortDescription: 通过自然语言管理 Todoist 任务、项目和团队协作
description: |

  一个用于 Todoist 集成的 Model Context Protocol (MCP) 服务器，通过 Todoist API 提供全面的任务和项目管理功能。

  ## 功能特性
  - **从兼容的 AI 应用程序访问 Todoist 数据**
  - **通过自然语言创建和管理任务、项目和分区**
  - **使用详细历史记录跟踪活动和已完成的任务**
  - **管理团队协作和任务分配**
  - **跨任务和项目高效搜索**

  ## 连接所需条件

  **无需设置**：通过 Todoist 的 OAuth2 工作流自动处理身份验证

metadata:
  categories: Business, Productivity
  allow-multiple: "true"
icon: https://img.icons8.com/?size=100&id=MFaX6nJlDgiU&format=png&color=000000
repoURL: https://github.com/Doist/todoist-ai
runtime: remote
remoteConfig:
  fixedURL: https://ai.todoist.net/mcp
toolPreview:
  # 用户和账户信息
  - name: user-info
    description: 获取全面的用户信息，包括用户 ID、全名、邮箱、带当前本地时间的时区、周起始日偏好、当前周日期、每日/每周目标进度以及用户计划（Free/Pro/Business）。
    params: {}

  # 概览和导航
  - name: get-overview
    description: 获取 Markdown 概览。如果未提供 projectId，则显示所有项目的层级和分区（对导航有用）。如果提供了 projectId，则显示该特定项目的详细概览，包括按分组的所有任务。
    params:
      projectId: "可选的项目 ID。如果提供，则显示该项目的详细概览。如果省略，则显示所有项目的概览。"

  # 项目管理
  - name: add-projects
    description: 添加一个或多个新项目。对项目设置和组织至关重要。
    params:
      projects: "要添加的项目数组，每个项目包含 name（必需）、parentId（子项目的可选）、viewStyle（可选：list、board、calendar）和 isFavorite（可选布尔值）"
  - name: update-projects
    description: 使用新值更新多个现有项目。修改项目名称、视图样式、收藏状态或父级（以重新组织层级）。
    params:
      projects: "要更新的项目数组，每个项目需要 id 和可选字段：name、viewStyle、isFavorite、parentId"
  - name: find-projects
    description: 列出所有项目或按名称搜索项目。如果省略搜索参数，则返回所有项目。用于项目发现和导航。
    params:
      search: "按名称搜索项目（部分匹配且不区分大小写）。如果省略，则返回所有项目。"
      limit: "返回的最大项目数（1-100，默认：50）"
      cursor: "用于获取下一页项目的分页游标"

  # 分区管理
  - name: add-sections
    description: 向项目添加一个或多个新分区。对组织项目内的任务至关重要。
    params:
      sections: "要添加的分区数组，每个分区包含 name（必需）和 projectId（必需）"
  - name: update-sections
    description: 使用新值更新多个现有分区。修改分区名称。
    params:
      sections: "要更新的分区数组，每个分区需要 id 和 name"
  - name: find-sections
    description: 在项目中按名称或其他条件搜索分区。如果省略搜索，则返回项目中的所有分区。
    params:
      projectId: "要搜索分区的项目 ID（必需）"
      search: "按名称搜索分区（部分匹配且不区分大小写）。如果省略，则返回所有分区。"

  # 任务管理 - 创建和更新
  - name: add-tasks
    description: 向项目、分区或父任务添加一个或多个任务。支持分配给项目协作者。返回带有确认的任务 ID。
    params:
      tasks: "要添加的任务数组，每个任务包含 content（必需）、projectId、sectionId、parentId、description、dueString（自然语言）、priority（p1-p4）、labels（数组）、duration、deadlineDate、responsibleUser"
  - name: update-tasks
    description: 更新现有任务，包括内容、日期、优先级和分配。对任务修改至关重要。
    params:
      tasks: "要更新的任务数组，每个任务需要 id 和可选字段：content、description、dueString、priority、labels、projectId、sectionId、parentId、responsibleUser、duration、deadlineDate、order"
  - name: complete-tasks
    description: 通过其 ID 完成一个或多个任务。将任务标记为已完成。
    params:
      ids: "要完成的任务 ID 数组（必需）"

  # 任务管理 - 搜索和发现
  - name: find-tasks
    description: 通过文本搜索或按项目/分区/父容器/负责人查找任务。必须提供至少一个筛选器。对任务查询至关重要。
    params:
      searchText: "要在任务中搜索的文本"
      projectId: "查找此项目中的任务"
      sectionId: "查找此分区中的任务"
      parentId: "查找此父任务的子任务"
      responsibleUser: "查找分配给此用户的任务（可以是用户 ID、姓名或邮箱）"
      responsibleUserFiltering: "如何按负责人筛选：'assigned'（仅分配给他人的任务）、'unassignedOrMe'（默认：未分配或分配给我）、'all'（所有任务）"
      labels: "用于筛选任务的标签数组"
      labelsOperator: "标签筛选的操作符：'and'（任务具有所有标签）或 'or'（默认：任务具有任何标签）"
      limit: "返回的最大任务数（1-100，默认：10）"
      cursor: "用于检索更多结果的分页游标"
  - name: find-tasks-by-date
    description: 按日期范围获取任务。使用 startDate 'today' 获取今天的任务，包括逾期项目，或提供特定日期/日期范围。对每日规划至关重要。
    params:
      startDate: "要获取任务的开始日期（YYYY-MM-DD 格式或 'today'）"
      daysCount: "从开始日期起获取任务的天数（1-30，默认：1）"
      overdueOption: "如何处理逾期任务：'overdue-only'、'include-overdue'（默认）或 'exclude-overdue'"
      responsibleUser: "查找分配给此用户的任务（可以是用户 ID、姓名或邮箱）"
      responsibleUserFiltering: "如何按负责人筛选：'assigned'、'unassignedOrMe'（默认）或 'all'"
      labels: "用于筛选任务的标签数组"
      labelsOperator: "标签筛选的操作符：'and' 或 'or'（默认）"
      limit: "返回的最大任务数（1-100，默认：10）"
      cursor: "用于检索更多结果的分页游标"
  - name: find-completed-tasks
    description: 获取已完成的任务（默认包括所有协作者 - 使用 responsibleUser 缩小范围）。跟踪任务完成历史。
    params:
      since: "要获取任务的开始日期（YYYY-MM-DD 格式，必需）"
      until: "要获取任务的结束日期（YYYY-MM-DD 格式，必需）"
      getBy: "使用的方法：'completion'（默认：任务完成时间）或 'due'（任务到期时间）"
      projectId: "要获取任务的项目 ID"
      sectionId: "要获取任务的分区 ID"
      parentId: "要获取任务的父任务 ID"
      responsibleUser: "查找分配给此用户的任务（省略时默认为所有协作者）"
      labels: "用于筛选任务的标签数组"
      labelsOperator: "标签筛选的操作符：'and' 或 'or'（默认）"
      workspaceId: "要获取任务的工作空间 ID"
      limit: "返回的最大任务数（1-200，默认：50）"
      cursor: "用于检索更多结果的分页游标"

  # 评论和协作
  - name: add-comments
    description: 向任务或项目添加多个评论。每个评论必须指定 taskId 或 projectId。用于讨论和反馈。
    params:
      comments: "要添加的评论数组，每个评论包含 content（必需）和 taskId 或 projectId 之一"
  - name: find-comments
    description: 按任务、项目查找评论，或通过 ID 获取特定评论。必须提供 taskId、projectId 或 commentId 之一。
    params:
      taskId: "查找特定任务的评论"
      projectId: "查找特定项目的评论"
      commentId: "通过 ID 获取特定评论"
      limit: "返回的最大评论数（1-10）"
      cursor: "用于检索更多结果的分页游标"
  - name: update-comments
    description: 使用新内容更新多个现有评论。修改评论文本。
    params:
      comments: "要更新的评论数组，每个评论需要 id 和 content"

  # 活动和历史
  - name: find-activity
    description: 检索最近的活动日志以监控和审计 Todoist 中的更改。默认显示所有用户的事件（使用 initiatorId 按特定用户筛选）。跟踪任务完成、更新、删除、项目更改等，具有灵活的筛选功能。
    params:
      eventType: "要筛选的事件类型：'added'、'updated'、'deleted'、'completed'、'uncompleted'、'archived'、'unarchived'、'shared'、'left'"
      objectType: "要筛选的对象类型：'task'、'project'、'comment'"
      objectId: "按特定对象 ID 筛选（任务、项目或评论）"
      projectId: "按父项目 ID 筛选事件"
      taskId: "按父任务 ID 筛选事件（用于子任务事件）"
      initiatorId: "按发起事件的用户 ID 筛选"
      limit: "返回的最大活动事件数（1-100，默认：20）"
      cursor: "用于检索下一页结果的分页游标"

  # 团队和协作管理
  - name: find-project-collaborators
    description: 在项目中按名称或其他条件搜索协作者。如果省略搜索，则返回项目中的所有协作者。
    params:
      projectId: "要搜索协作者的项目 ID（必需）"
      searchTerm: "按姓名或邮箱搜索协作者（部分匹配且不区分大小写）。如果省略，则返回所有协作者。"
  - name: manage-assignments
    description: 多个任务的批量分配操作。支持分配、取消分配和重新分配操作，失败时自动回滚。对团队任务管理至关重要。
    params:
      operation: "要执行的分配操作：'assign'、'unassign'、'reassign'（必需）"
      taskIds: "要操作的任务 ID 数组（最多 50，必需）"
      responsibleUser: "要分配任务的用户（用户 ID、姓名或邮箱）。'assign' 和 'reassign' 操作必需。"
      fromAssigneeUser: "对于 'reassign' 操作：要从中重新分配的当前负责人（用户 ID、姓名或邮箱）。可选 - 如果未提供，则从任何当前负责人重新分配。"
      dryRun: "如果为 true，则验证操作而不执行（默认：false）"

  # 删除
  - name: delete-object
    description: 通过其 ID 删除项目、分区、任务或评论。请谨慎使用，因为此操作不可逆。
    params:
      type: "要删除的实体类型：'project'、'section'、'task'、'comment'（必需）"
      id: "要删除的实体 ID（必需）"

  # OpenAI MCP 兼容性 - 搜索和获取
  - name: search
    description: 在 Todoist 中跨任务和项目搜索。返回带有 ID、标题和 URL 的相关结果列表。兼容 OpenAI MCP。
    params:
      query: "查找任务和项目的搜索查询字符串（必需）"
  - name: fetch
    description: 通过其 ID 获取任务或项目的完整内容。ID 应采用 "task:{id}" 或 "project:{id}" 格式。兼容 OpenAI MCP。
    params:
      id: "文档的唯一标识符，格式为 'task:{id}' 或 'project:{id}'（必需）"

